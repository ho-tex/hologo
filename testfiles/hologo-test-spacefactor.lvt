%%
%% l3build test file
\input regression-test
\START
%% This is file `hologo-test-spacefactor.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% hologo.dtx  (with options: `test-spacefactor')
%% 
%% This is a generated file.
%% 
%% Project: hologo
%% Version: 2017/05/01 v1.13
%% 
%% Copyright (C) 2010-2012 by
%%    Heiko Oberdiek <heiko.oberdiek at googlemail.com>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3c of this license or (at your option) any later
%% version. This version of this license is in
%%    http://www.latex-project.org/lppl/lppl-1-3c.txt
%% and the latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% This Current Maintainer of this work is Heiko Oberdiek.
%% 
%% The Base Interpreter refers to any `TeX-Format',
%% because some files are installed in TDS:tex/generic//.
%% 
%% This work consists of the main source file hologo.dtx
%% and the derived files
%%    hologo.sty, hologo.pdf, hologo.ins, hologo.drv, hologo-example.tex,
%%    hologo-test1.tex, hologo-test-spacefactor.tex,
%%    hologo-test-list.tex.
%% 
\NeedsTeXFormat{LaTeX2e}
\documentclass{article}
\usepackage{hologo}[2017/05/01]
\usepackage{kvsetkeys}
\usepackage{qstest}
\IncludeTests{*}
\LogTests{log}{*}{*}
\begin{document}
\begin{qstest}{spacefactor}{spacefactor}
\newcommand*{\Test}[1]{%
  \sbox0{%
    \hologo{#1}%
    \Expect*{1000 (#1)}*{\the\spacefactor\space(#1)}%
  }%
}%
\makeatletter
\def\TestList{}
\def\hologoEntry#1#2#3{%
  \edef\TestList{%
    \ifx\TestList\@empty
    \else
      \TestList,%
    \fi
    #1%
    \ifx\\#2\\%
    \else
      ={variant=#2}%
    \fi
  }%
}
\hologoList
\expandafter\kv@parse@normalized\expandafter{%
  \TestList
}{%
  \begingroup
    \let\@logo=\kv@key
    \ifx\kv@value\relax
    \else
      \expandafter\hologoLogoSetup\expandafter\@logo\expandafter{%
        \kv@value
      }%
    \fi
    \Test\@logo
  \endgroup
  \@gobbletwo
}
\end{qstest}
\end{document}
\endinput
%%
%% End of file `hologo-test-spacefactor.tex'.
